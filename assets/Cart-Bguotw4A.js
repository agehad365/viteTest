import{r as l,C as h,j as e,H as g,L as m,V as a}from"./index-BYhn9ksx.js";function j(){let{deleteCartItem:i,numofCartItems:o,totalprice:d,products:s,UpdateCart:u}=l.useContext(h);console.log("prodct",s);const[y,b]=l.useState(0);async function n(t,r){(await u(t,r)).data.status==="success"?a.success("product updated"):a.error("error......")}async function x(t){let r=await i(t);console.log(r),r.data.status==="success"?a.success("Product deleted"):a.error("Error.....")}return l.useEffect(()=>{},[]),e.jsxs(e.Fragment,{children:[e.jsx(g,{children:e.jsx("title",{children:"Cart page"})}),s?e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl text-green-500",children:["Num of Cart items :",o]}),e.jsxs("h3",{className:"text-xl",children:["Total price ",d," : EGP"]}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-16 py-3",children:e.jsx("span",{className:"sr-only",children:"Image"})}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Product"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Qty"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(t=>{var r,c;return e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"p-4",children:e.jsx("img",{src:(r=t==null?void 0:t.product)==null?void 0:r.imageCover,className:"w-16 md:w-32 max-w-full max-h-full",alt:"Apple Watch"})}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:(c=t==null?void 0:t.product)==null?void 0:c.title}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("button",{onClick:()=>{n(t==null?void 0:t.product._id,(t==null?void 0:t.count)-1)},className:"inline-flex items-center justify-center p-1 me-3 text-sm font-medium h-6 w-6 text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button",children:[e.jsx("span",{className:"sr-only",children:"Quantity button"}),e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 1h16"})})]}),e.jsx("div",{children:e.jsx("input",{type:"number",id:"first_product",className:"bg-gray-50 w-14 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t==null?void 0:t.count,required:!0})}),e.jsxs("button",{onClick:()=>{n(t==null?void 0:t.product._id,(t==null?void 0:t.count)+1)},className:"inline-flex items-center justify-center h-6 w-6 p-1 ms-3 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button",children:[e.jsx("span",{className:"sr-only",children:"Quantity button"}),e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 1v16M1 9h16"})})]})]})}),e.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:[t==null?void 0:t.price," EGP"]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("a",{onClick:()=>x(t==null?void 0:t.product._id),className:"cursor-pointer font-medium text-red-600 dark:text-red-500 hover:underline",children:"Remove"})})]},t==null?void 0:t.product._id)})})]})}),e.jsx(m,{to:"/checkout",children:e.jsx("button",{className:"text-white py-2 w-full my-10 cursor-pointer bg-green-500 rounded-md",children:"Checkout"})})]}):"<h2>No cart item</h2>"]})}export{j as default};
